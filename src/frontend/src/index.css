@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --radius: 0.5rem;
        --background: 0.145 0 0;
        --foreground: 0.985 0 0;
        --card: 0.205 0 0;
        --card-foreground: 0.985 0 0;
        --popover: 0.269 0 0;
        --popover-foreground: 0.985 0 0;
        --primary: 0.696 0.17 162.48;
        --primary-foreground: 0.145 0 0;
        --secondary: 0.269 0 0;
        --secondary-foreground: 0.985 0 0;
        --muted: 0.269 0 0;
        --muted-foreground: 0.708 0 0;
        --accent: 0.371 0 0;
        --accent-foreground: 0.985 0 0;
        --destructive: 0.577 0.245 27.325;
        --destructive-foreground: 0.985 0 0;
        --border: 1 0 0 / 10%;
        --input: 1 0 0 / 15%;
        --ring: 0.696 0.17 162.48;
        --chart-1: 0.696 0.17 162.48;
        --chart-2: 0.769 0.188 70.08;
        --chart-3: 0.488 0.243 264.376;
        --chart-4: 0.627 0.265 303.9;
        --chart-5: 0.645 0.246 16.439;
        --sidebar: 0.205 0 0;
        --sidebar-foreground: 0.985 0 0;
        --sidebar-primary: 0.696 0.17 162.48;
        --sidebar-primary-foreground: 0.145 0 0;
        --sidebar-accent: 0.269 0 0;
        --sidebar-accent-foreground: 0.985 0 0;
        --sidebar-border: 1 0 0 / 10%;
        --sidebar-ring: 0.439 0 0;
        
        /* Bottom tab bar safe-area spacing */
        --tab-bar-inset: 0.375rem;
        --tab-bar-height: 4rem;
        --tab-bar-total-space: calc(var(--tab-bar-height) + var(--tab-bar-inset) + env(safe-area-inset-bottom, 0px));
        --tab-bar-horizontal-shift: 1rem;

        /* Preloader colors */
        --preloader-bg: 0.08 0 0;
        --preloader-accent: 0.696 0.17 162.48;
    }

    .dark {
        --background: 0.145 0 0;
        --foreground: 0.985 0 0;
        --card: 0.205 0 0;
        --card-foreground: 0.985 0 0;
        --popover: 0.269 0 0;
        --popover-foreground: 0.985 0 0;
        --primary: 0.696 0.17 162.48;
        --primary-foreground: 0.145 0 0;
        --secondary: 0.269 0 0;
        --secondary-foreground: 0.985 0 0;
        --muted: 0.269 0 0;
        --muted-foreground: 0.708 0 0;
        --accent: 0.371 0 0;
        --accent-foreground: 0.985 0 0;
        --destructive: 0.577 0.245 27.325;
        --destructive-foreground: 0.985 0 0;
        --border: 1 0 0 / 10%;
        --input: 1 0 0 / 15%;
        --ring: 0.696 0.17 162.48;
        --chart-1: 0.696 0.17 162.48;
        --chart-2: 0.769 0.188 70.08;
        --chart-3: 0.488 0.243 264.376;
        --chart-4: 0.627 0.265 303.9;
        --chart-5: 0.645 0.246 16.439;
        --sidebar: 0.205 0 0;
        --sidebar-foreground: 0.985 0 0;
        --sidebar-primary: 0.696 0.17 162.48;
        --sidebar-primary-foreground: 0.145 0 0;
        --sidebar-accent: 0.269 0 0;
        --sidebar-accent-foreground: 0.985 0 0;
        --sidebar-border: 1 0 0 / 10%;
        --sidebar-ring: 0.439 0 0;
    }

    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
    }
}

/* Full-screen vertical stage utilities */
.vertical-stage {
    aspect-ratio: 9 / 16;
    max-height: 100dvh;
}

.safe-bottom {
    padding-bottom: calc(var(--tab-bar-total-space) + 1rem);
}

/* Preloader styles */
.preloader-screen {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background: oklch(var(--preloader-bg));
    transition: opacity 0.5s ease-out;
}

.preloader-fade-out {
    opacity: 0;
}

.preloader-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2rem;
}

.preloader-logo-container {
    position: relative;
    width: 160px;
    height: 160px;
}

.preloader-logo {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 40px oklch(var(--preloader-accent) / 0.3));
    transition: clip-path 0.3s ease-out;
}

/* Letter reveal animation using clip-path */
/* Step 0: Show first Z (left ~25%) */
.preloader-logo-step-0 {
    clip-path: inset(0 75% 0 0);
}

/* Step 1: Show Z + I (left ~50%) */
.preloader-logo-step-1 {
    clip-path: inset(0 50% 0 0);
}

/* Step 2: Show Z + I + Z (left ~75%) */
.preloader-logo-step-2 {
    clip-path: inset(0 25% 0 0);
}

/* Step 3: Show Z + I + Z + O (full logo) */
.preloader-logo-step-3,
.preloader-logo-step-4 {
    clip-path: inset(0 0 0 0);
}

@media (min-width: 768px) {
    .preloader-logo-container {
        width: 200px;
        height: 200px;
    }
}
